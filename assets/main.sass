/* BUGFIX */
/* В превью комментария не отображается заголовок на страницах клубов */
.p-club_pages .new_comment .preview .b-comment .inner header,
.p-club_pages .edit_comment .preview .b-comment .inner header
  display: block

.edit-page .preview .b-comment > .inner > header
  display: none

.edit-page .preview .b-comment > .inner > .body
  padding-left: 0

/* Размер постеров в блоке «Лучшие работы» внутри тултипа */
.b-catalog_entry-tooltip .best-works .c-column
  width: 22%

/* Fix кнопки загрузки на телефоне */
.b-shiki_editor aside.buttons .editor-file span
  display: block

/* Максимальная ширина элементов */
img
  max-width: 100%

/* Убираем лишнее пространство под textarea */
textarea
  vertical-align: top

/* Убираем лишние элементы настроек */
.page_background_color
  display: none /* thx NedStar */

/**/
/**/
/**/

/* ОСНОВНОЙ ФАЙЛ */
.b-header_filters .filter-line .title,
.b-header_filters .filter-line a.current,
.p-statistics-index .forum-nav .sections a,
.p-userlist_comparer .comparer table .name a
  color: inherit






// НАСТРОЙКИ
// Используется для дальнейших рассчётов размеров
$layout-grid: 8px !default
// Gutters are the spaces between columns. They help separate content.
$layout-gutter: 16px !default
// Margins are the space between content and the left and right edges of the screen.
$layout-margin: 16px !default
$layout-margin-tablet: $layout-margin * 1.5 !default

// Дополнительные цвета
$color-success: #66bb6a
$color-warning: #ef8d50
$color-danger: #ef5350
$color-info: #4f91e8
$color-offtop: #f58ebb
$color-violet: #a64fe8
$color-yellow: #e8dc4f
$color-magenta: #e84fde

// 
$border-round: 50%
$border-rounded: 3px
$color-black: #212121
$color-white: #fafafa
$font-size: 16px




/* MAIN BLOCKS */
html
  height: 100%
  overflow-x: hidden

body
  position: relative
  min-height: 100%
  background-color: $color-background
  color: $color-text-primary
  font-size: 16px
  font-weight: 400
  line-height: 1.5
  // overflow-x: hidden /* блокирует работу position: sticky */

  @media (max-width: 1024px)
    background-color: $color-background !important

.l-page
  min-height: 100%
  padding: 16px $layout-margin 0
  background: $color-background

  @media (min-width: 960px)
    padding-right: $layout-margin-tablet
    padding-left: $layout-margin-tablet

.l-footer
  padding: 0
  margin: 1em 0 0
  text-align: center
  line-height: 2em

  &::before
    content: 'shiki-theme v#{$ver}-#{$release}'
    display: block
    float: left
    position: static
    bottom: auto
    left: auto
    width: auto
    height: auto
    background: none
    color: $color-text-hint
    font-weight: 700

  /* НЕ УДАЛЯТЬ! Информация для устранения неполадок */
  body[data-user *= ':2727,'] &::before
    content: 'shiki-theme v#{$ver}-#{$release}'

  &::after
    display: none

  &::before,
  .copyright,
  .links
    padding: 0
    font: inherit
    font-size: .75em

  .copyright
    color: $color-text-secondary

  .links
    clear: both
    display: inline-block
    vertical-align: top
    text-align: center

    a
      color: $color-text-hint

      &:last-child
        margin: 0



/* RESET LAYOUT */
@media (max-width: 1024px)
  .l-page
    .menu-slide-outer
      width: auto
      padding: 0 16px
      margin: 0 -16px

      .menu-slide-inner
        width: 100% !important

      .l-content
        float: none !important
        width: 100% !important
        margin: 0 !important



/* ОБЩИЕ КЛАССЫ */
.p0,
.m0,
.m1,
.m2,
.m3,
.m4,
.m5,
.m6,
.m7,
.m8,
.m10,
.m12,
.m15,
.m20,
.m25,
.m30,
.m40,
.m50
  margin-bottom: .5rem !important

.m10,
.m13
  margin-bottom: 0 !important



div.body
  line-height: inherit



h3
  border-color: $color-border
  color: $color-text-secondary
  font-size: 1rem
  line-height: 1.5
  margin-bottom: .5rem
  text-overflow: ellipsis
  white-space: nowrap
  overflow: hidden



hr
  margin: .5rem 0
  background-color: $color-border
  background-image: none



input
  background: transparent
  border: 0
  color: inherit



.block, .c-column
  line-height: inherit !important

.block
  margin-bottom: .5rem



.b-errors
  margin-bottom: .5rem
  line-height: inherit

  .subheadline
    margin-bottom: 0
    border: 0

.red
  border: 0



.b-mention
  color: $color-link
  &:hover
    color: $color-link-hover
  &:active
    color: $color-link-active

  s
    color: inherit



.b-menu-line
  line-height: 1.5



.b-nothing_here
  margin-left: 0
  color: $color-text-disabled
  font-size: .875rem
  line-height: 2.5rem

  a
    color: $color-link
    &:hover
      color: $color-link-hover
    &:active
      color: $color-link-active

  .tooltip-details &.centered
    color: inherit



.b-replies
  padding: 8px 0 0
  color: $color-text-hint
  font-size: .75rem



.b-separator
  color: $color-text-disabled



.b-prgrph,
.b-spoiler_prgrph
  margin-bottom: .5rem !important



.b-show_more,
.b-show_more-more .hide-more
  display: inline-block
  padding: 0 .5rem
  margin: .25rem 0
  border-radius: .625rem
  color: $color-text-secondary
  font-size: .875rem
  font-weight: bold
  line-height: 1.25rem

  &:hover
    background-color: $color-area-hover
    color: $color-text-secondary



// TODO: check this element
.text
  margin-left: 0 !important



.yellow-fade
  background: mix($color-background, $color-accent, 48%)
  outline-color: mix($color-background, $color-accent, 48%)


// TODO: check this element
// NOTE: .b-comment.b-comment-info
.b-comment-info
  color: $color-text-hint
  font-size: .875rem
  text-align: left
  line-height: 1.5rem

  & > span
    margin-right: .5rem










/* inset dividers */
.b-dialog::before,
.b-message::before,
.b-comment::before,
.b-comments .comments-loaded::before
  content: ''
  display: block
  position: absolute
  bottom: 0
  right: 0
  left: 3.5rem
  height: 1px

.b-generated_news::before
  left: 0

.b-comments .comments-loaded .b-comment:last-child
  margin: 0

.b-dialog:last-child::before,
.b-message:last-child::before,
.b-comment:last-child::before
  display: none










/* Просмотр комментариев во всплывающей подсказке */
.tooltip
  .b-comment,
  .b-message
    padding-top: 0 !important
    padding-bottom: 0

    &::before
      display: none










/* Стили Material Icons */
.l-page .menu-toggler .toggler::before
  font-family: 'Material Icons' !important
  font-weight: normal !important
  line-height: 1

  letter-spacing: normal
  text-transform: none
  word-wrap: normal
  white-space: nowrap
  direction: ltr

  /* Support for all WebKit browsers. */
  -webkit-font-smoothing: antialiased
  /* Support for Safari and Chrome. */
  text-rendering: optimizeLegibility
  /* Support for Firefox. */
  -moz-osx-font-smoothing: grayscale
  /* Support for IE. */
  font-feature-settings: 'liga'










/* TODO: replace */
.b-catalog-entry-embedded
  .b-catalog_entry
    margin-bottom: 0 !important

/* TODO: replace */
.b-user_rate-extended > .midheadline
  overflow: hidden

/* TODO: check it */
// .b-topic > .inner header .name-date a.name,
// .b-topic > .inner header .name-date .about,
// .b-topic > .inner > header .about a,
// .b-topic > .inner > header .about > span
//   display: inline-block
//   vertical-align: top
//   line-height: inherit

/* TODO: check it */
.b-comment .body,
.b-dialog .body,
.b-message .body,
.b-topic .body
  word-break: break-word /* FIXES: issue #8 */
