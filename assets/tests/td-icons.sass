// Calculate brightness
@function brightness($color)
  @return ((red($color) * .299) + (green($color) * .587) + (blue($color) * .114)) / 255 * 100

// Return contrast color
@function color-contrast($color)
  $brightness: brightness($color)
  $light: brightness(#fff)
  $dark: brightness(#121212)
  @return if(abs($brightness - $light) > abs($brightness - $dark), #fff, #121212)

=md-flat($color)
  color: $color

  &:hover
    background-color: rgba($color, .1)

  &:active
    background-color: rgba($color, .2)

=md-raised($color)
  background-color: $color
  color: color-contrast($color)

  &:hover
    background-color: lighten($color, 6%)

  &:active
    background-color: darken($color, 6%)

[data-icon]
  @extend %material-icons
  &::before
    content: attr(data-icon)
    display: inline-block
    vertical-align: top
    flex-shrink: 0
    margin-right: 8px
    margin-left: -4px
    background-size: cover
    background-position: center
    overflow: hidden

  // Brand colors for Crunchyroll
  &[data-icon='crunchyroll']
    $crunchyroll: #f57724
    +md-flat($crunchyroll)
    white-space: nowrap
    &::before
      content: ''
      background-image: url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAFnUlEQVR4Ae1ZaYwURRQuUKMcyJE9mNnprqoh8UBNXP9JPDRGo3/EIxijEtAfq4sMTHe9FiMhJh7KgYkRE6LBqEGNkUR/iLeRjRE1goiBRNQEVOQQcI9+XbPIgm3VMoPLUL09x8xOiH5J/didrpn3Xn3vve9Vk/88EFpbAse6IRBsmYT0Zh/SB9HjhwPgR9X6O7+OSi/9V+Dx3gDSP0tgbyOwzh6Xtu+aS84hjYLM0stQsBdQ8AOBlw7LXsB7lOOvdjvWlWQk0asijoJt1EbUaiGwb6WTupXUE/3ZqQwF/dhgQC0d+RLBurj2dAGrE4FjjQ02O+HxfinoI6QWCGeRMwKgayvjOOtBwT5EYKvVesp36eJA0BUIfA0C/QKBBcM6Ivj6qpI8zJCzA8E+K91ofgw99o4P1szcgoQd+/2EjOp7sO28QLA5am3UFav4O31gW7o7Jk8s3/hryJkBsA0lVhPZJ6jAzNRmUgX8hcnzA0Gf04EocmLrng4ylpSDQPDX4g1XEXPtpb2d9uSaVjlo5Sjo+iI6fapPrLTmJOyFJVSLfUG27dK6NknPniWBHy78pgT6RPwxisQFugrEGN8VPlxe1FX0RuO945sVn22ZbUqEHeQsUgIOZ1qmIfC9+d8eyAn7ipjo88/jKsNuJzWGxGD3rNQYX5VC6fFNCGyvKUER2EH1/22a9/hAawuJgM4tBL4zT9sfI6mEgt4WUxY3hDFlLZxvJRHY+whclll2B3zBvtLFI8oJZfwfx6lk3292QJWsyMirzd2Lhi9nCHRN4PFcRc3LZdm4kw2c1CXHRSL7/ZRTQCd19XDVJpdtu5xEoGfupEkI/JdKO6+ftW4pObGF5eg9OsFJAYecVBsK9nJ0dOgqEgGdkCrq3RVLB0GXkzLwllIGKFReCfbev0fjsRu1Vo/SJftnt44jBhy8r2kC5vdVKDUGwkcNnI+tlNZVOmf+zEw5N9+06MroqkMfj67TfFNVwk2wZ0iF0AVFutbNhT82R3FfKnpFJOySqpUnsEXVNDm1f2neAb4/SpsTA/TRSS99pFoHdOEgFUJRb7Sye13BAWmOUNo1Jq5gT9dC9/uCV6X5sSAtAjBHM+fSGSYJjJAeqMnwAnxldQ6wO/NVyGjQADHgiEvbKzPYnGM6IBXLb62Lok+A7zHSx+NP1nR8VHSsuBLNa54amQM+8K3GTZ5hTqhySWAzS1S0o3zHXm7gUvqA4Xi/ieBdV10GeWHN0/M3iYCejX1g3+lntTQvdmC7QbxtMTqQl7X1WHJQkdpen5Oaoru8noWVCp2Ogn0w9DldxosEkokWfEdE9/1Jf97ItR/IuCJes7kGCvVFDDwfNdQBJadNM/D0wrAwdPWLBD31WfZSgx3YRoqh51Mp+PMGqXv3qSKKL26sA+wVs653k+3Fc6uONilCb8aa1lAHXPue6Mbg8a7i6+/N6nQMp/BDYxzg/eG85vHR2sKl1xafQk7Ysw29YEEjHEDBVpM4SHW3GZc0uuEg8H0jHf2cm7TiHdDzMaT9kzYbTkFPQyMafZcuIaVCdcK7hlJJX6mEqvsZKLdqRIwH/nXZqtUXdMXJVKKvm6ci1lVf49O/hUpaVKi32ZtFfUGYeogesOsU+Z1yflOSVIb89CXYG0MHEHTsO8xTGn2xxh33k/ChpgmkFtCzJ57ICX5MafI55ncKyetR8F1VGn6oz6HzSa3Rl03ddOL2QjkjBVsWcUU+CrN2JgD2fZmG/4pAHws7EmNJvaD1uQS+RivC/FX7JkWpi0gE9GcS6BIU9F0UbLu+ZkfgPccDwXegoom+21H1fQYZSWA2cWEg6DplyJFBZwR7VmZpgpxuCBa2tAZAF+tr+UFHXLq237Wvy4+Gpxf8jkRTzqW36/fBg+8JnJTnO9bMnkyyvbdzYtTrqP/xD2O896vb1DabAAAAAElFTkSuQmCC)

    &.raised
      +md-raised($crunchyroll)
      color: #fff
      &::before
        background-image: url(data\:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAEA0lEQVR42u1aaUhVURB+vnykWZpRVkobQYsWZP8KSyKK+qMtGNGC/QujXSJQ/FOWVgaRgRRKRQtBkD/aF/IRbaRtGGQFttBmRbZvvt7tOzQPLs9zzj13e7eogY/7vPfMuTPnzMyZmavP96+TpmlpwFRgE9AUDodf4/oNCAFhAvv9HXgHPACOAEVANpDgpfBjgZ0Q+pVmjdqBvcCEWAvOVvyS5ixdB2a6LfhgrPYZzUXC/JdxGeWG8EWY/KMWG/oKlDgleBdgn1Ubh9KncK0BNgKlwBagFriIZ58M+I/ZcnIwdwXOmxD4J1AP5AMDFeaPA4YBheRTYY5J3cAlxYrw8WBuUBT8M1AM9LG528OB7bQQeiVu4dLN7GT7VXwOqARSHfa3IWQ+ejrHdkx1ghUK0eIFLmNcjnoFdChGqFyFaQRFARkFza46xvuZiTHfAPoDAUW+oVis5/TeDiDHiOGCQmRIVHhxIguFQCMJwHNQlnY0k92nSeZiircSzz2hKeHBLAOzaTAKa3ieDpwgxzZDbHWvsOAhUaKNxi7mvpxClojajMIZxfcvFs+MlUY7i+ejKTF82mkXcCPXINqMk0zcE3hk4+SdYcKXVhFPgf5mBrBb8oJqyYTMId/aEH6zhcygETiuvzmNcnVRXpIkmKyHhE/V7uMthNeJxJscuVElecl6yUSNNjPPrVbPCAooeRFBmiS2nyEQvsyBrHOtzUOuMvLHS1FuLmBOBn44oECuDQX8kO9w5A9RzF4tYK5wKO8vsZlqlEd+iFZzvCAF7nBIgSqbCsyN/OAJ1CFgynayglTOMPmy5Mh24JmAaYPD5WOFDQX6CX2AFRE26gSzlK8ocBz34BP0da4JJgm6VMgvYaesRPgE4CaN9UcrcIdXiwomanWxG8F8cQ3Qi075FCATspyMGpesYhYtAgXua95TUrRQizg78F5whJ/2WPgQb1UzdcWCngZxxtZ5rEAzT4EAsIMzeD5nbKnHCuzxSQ6o6Lq1jldke6zAAlmcDXLa3wGOH9z1SHhWm3SXKTCJswsLOeOWe6RAjcppV2/kNOzAocZWrFd/gIoCGRDug8Iu5MVYgTIzSdK8KFNq63T6/R5XHSPhr5rOWqmPr6cDgnZh0E3JYQ1PWGphNV09FDVfMe8MMdGGN0ss70q3U/Gw9PVgVAEyhzcOSuxyWPizLKFzqs1drvMJ9vGhUDBuChR5aNNk3uCy1I1e/XRd9yJMH7YDgl1bBtw2KftjYJ3pLzEmlUihBm6IXsoaW1mS8VnUPzrKag5qs7fTQrSQmVTymgdufy8eyXoyVEszZbaxHunf+H8SfVl2Sm35EH2OnSwrDf9kZXoDs+l7cC2VhvmU5ab6/hOffgED5Eo33c+PQwAAAABJRU5ErkJggg==)

  // Brand colors for Wakanim
  &[data-icon='wakanim']
    $wakanim: #ee2f33
    +md-flat($wakanim)
    white-space: nowrap
    &::before
      content: ''
      background-image: url(data\:image/png;base64,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)

    &.raised
      +md-raised($wakanim)
      &::before
        background-image: url(data\:image/png;base64,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)
